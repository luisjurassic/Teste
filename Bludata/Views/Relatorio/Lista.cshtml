@model IEnumerable<Bludata.Models.CadastroViewModels>
@{
    ViewBag.Title = "Relatório";
}

<h2>Relatório</h2>
<hr />

@using (Html.BeginForm())
{
    <div class="panel-group">
        <div class="panel panel-default">
            <div id="headPanel" class="panel-heading">
                <h2 class="panel-title">
                    <a data-toggle="collapse" href="#divFiltros"><i class="glyphicon glyphicon-plus-sign"></i> Filtros</a>
                </h2>
            </div>
            <div id="divFiltros" class="panel-collapse collapse">
                <div class="form-group-panel">
                    <div class="form-group col-sm-3">
                        @Html.Editor("nome", new
                   {
                       htmlAttributes = new
                       {
                           @class = "form-control",
                           @placeholder = "Nome"
                       }
                   })
                    </div>
                    <div class="form-group col-sm-3">
                        @Html.Editor("dCad", new
                   {
                       htmlAttributes = new
                       {
                           @type = "text",
                           @class = "form-control",
                           @maxlength = "10",
                           @onfocus = "ConverterEmCampoData(dCad)",
                           @onblur = "ConverterEmCampoText(dCad)",
                           @placeholder = "Data Cadastro"
                       }
                   })
                    </div>
                    <div class="form-group col-sm-3">
                        @Html.Editor("dNasc", new
                   {
                       htmlAttributes = new
                       {
                           @type = "text",
                           @class = "form-control",
                           @maxlength = "10",
                           @onfocus = "ConverterEmCampoData(dNasc)",
                           @onblur = "ConverterEmCampoText(dNasc)",
                           @placeholder = "Data Nascimento"
                       }
                   })
                    </div>
                    <div class="col-sm-3">
                        <input id="btnBuscaFiltro" type="submit" value="Buscar" class="btn" />
                    </div>
                </div>
            </div>
        </div>
    </div>
}
<div class="table-responsive">
    <table class="table">
        <thead class="thead-inverse">
            <tr>
                <th>
                    @Html.ActionLink("Nome", "Lista", new { nome = ViewData["FiltroNome"], dCad = ViewData["FiltroDataCad"], dNasc = ViewData["FiltroDataNasc"], classificacao = ViewData["ClassNome"] })
                </th>
                <th>
                    @Html.DisplayName("CPF")
                </th>
                <th>
                    @Html.ActionLink("Data Cadastro", "Lista", new { nome = ViewData["FiltroNome"], dCad = ViewData["FiltroDataCad"], dNasc = ViewData["FiltroDataNasc"], classificacao = ViewData["ClassDataCad"] })
                </th>
                <th>
                    @Html.ActionLink("Data Nascimento", "Lista", new { nome = ViewData["FiltroNome"], dCad = ViewData["FiltroDataCad"], dNasc = ViewData["FiltroDataNasc"], classificacao = ViewData["ClassDataNasc"] })
                </th>
                <th>
                    @Html.DisplayName("UF")
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td scope="row">
                        @Html.DisplayFor(modelItem => item.Nome)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Cpf)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataCadastro)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataNascimento)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Uf)
                    </td>
                </tr>
            }
        </tbody>

    </table>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/site")
}
